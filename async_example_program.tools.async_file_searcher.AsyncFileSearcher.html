<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>async_example_program.tools.async_file_searcher.AsyncFileSearcher</title>
    <meta name="generator" content="pydoctor 23.9.0"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="readthedocstheme.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default mainnavbar">
      
  
  <div class="container-fluid">


    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          <a href="https://github.com/ycc140/async_example_program" class="projecthome">async_example_program</a> <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <div id="search-box-container">
          <div class="input-group">
            <input id="search-box" type="search" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" autocomplete="off" />
            
            <span class="input-group-btn">
              <a style="display: none;" class="btn btn-default" id="search-clear-button" title="Clear" onclick="clearSearch()"><img src="fonts/x-circle.svg" alt="Clear" /></a>
              <a class="btn btn-default" id="search-help-button" title="Help" onclick="toggleSearchHelpText()"><img src="fonts/info.svg" alt="Help" /></a>
            </span>
          </div>
        </div>

      </div>

    </div>

  </div>

    
        <!-- Side navigation -->
      <div class="sidebarcontainer">
        <nav class="sidebar">
  

  <div>

      <div class="thingTitle">
        <span>Class</span>
        <code class="thisobject"><a href="async_example_program.tools.async_file_searcher.AsyncFileSearcher.html" class="internal-link" title="This class"><wbr></wbr>Async<wbr></wbr>File<wbr></wbr>Searcher</a></code> 
      </div>
      
      <div>
        

        
         

        
        

        <div class="childrenKindTitle">Methods</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="#__init__" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.__init__">__init__</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#notify" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.notify">notify</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#start" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.start">start</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#stop" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.stop">stop</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_handle_report_suppression" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher._handle_report_suppression">_handle<wbr></wbr>_report<wbr></wbr>_suppression</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_handle_undetected_files" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher._handle_undetected_files">_handle<wbr></wbr>_undetected<wbr></wbr>_files</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_message_broker" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher._message_broker">_message<wbr></wbr>_broker</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_process_file_found" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher._process_file_found">_process<wbr></wbr>_file<wbr></wbr>_found</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_process_new_search_paths" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher._process_new_search_paths">_process<wbr></wbr>_new<wbr></wbr>_search<wbr></wbr>_paths</a></code>
            </div>
        

    </li><li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_process_status_request" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher._process_status_request">_process<wbr></wbr>_status<wbr></wbr>_request</a></code>
            </div>
        

    </li>
</ul> 

        
         

        <div class="childrenKindTitle">Attributes</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="#file_mgr" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.file_mgr">file<wbr></wbr>_mgr</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#find_undetected_files" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.find_undetected_files">find<wbr></wbr>_undetected<wbr></wbr>_files</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#lock" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.lock">lock</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#observer" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.observer">observer</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#out_queue" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.out_queue">out<wbr></wbr>_queue</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#recursive" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.recursive">recursive</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#root_paths" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.root_paths">root<wbr></wbr>_paths</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#suppress" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.suppress">suppress</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#watchers" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.watchers">watchers</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#work_queue" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.work_queue">work<wbr></wbr>_queue</a></code>
            </div>
        

    </li>
</ul> 

        
         
        
      </div>
  </div><div>

      <div class="thingTitle">
        <span>Module</span>
        <code><a href="async_example_program.tools.async_file_searcher.html" class="internal-link" title="The parent of this class">async<wbr></wbr>_file<wbr></wbr>_searcher</a></code> 
      </div>
      
      <div>
        

        
         

        <div class="childrenKindTitle">Classes</div>
        <ul>
    
    <li class=" thisobject">
        
        
        

        
            <div class="itemName"><code><a href="async_example_program.tools.async_file_searcher.AsyncFileSearcher.html" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher"><wbr></wbr>Async<wbr></wbr>File<wbr></wbr>Searcher</a></code>
            </div>
        

    </li>
</ul>

        
         

        
         

        
         

        
         
        
      </div>
  </div>

</nav>
        <!-- No sidebar toggle for read the docs theme, the sidebar is always
          visible when the screen is width enough.
        -->
      </div>

    </nav>
    
    <div class="container-fluid">

      <div id="main" class="">
        

        

        <div id="search-results-container" style="display: none;">
        
          <div id="search-buttons">
            <span class="label label-default" id="search-docstrings-button">
            <label class="checkbox-inline">
              <input type="checkbox" id="toggle-search-in-docstrings-checkbox" value="false" onclick="toggleSearchInDocstrings()">
                search in docstrings
              </input>
            </label>
            </span>
            
          </div>
          
          <noscript>
              <h1>Cannot search: JavaScript is not supported/enabled in your browser.</h1>
          </noscript>
  
          <div class="hint" id="search-help-box">
            <p class="rst-last">
        
              Search bar offers the following options:
              <ul>   
                  <li>
                    <strong>Term presence.</strong> The below example searches for documents that 
                      must contain “foo”, might contain “bar” and must not contain “baz”: <code>+foo bar -baz</code>
                  </li> 
  
                  <li>
                    <strong>Wildcards.</strong> The below example searches for documents with words beginning with “foo”: <code>foo*</code>
                  </li> 
  
                  <li>
                    <strong>Search in specific fields.</strong> The following search matches all objects 
                    in "twisted.mail" that matches “search”: <code>+qname:twisted.mail.* +search</code>
  
                    <p>
                      Possible fields: 'name', 'qname' (fully qualified name), 'docstring', and 'kind'.
                      Last two fields are only applicable if "search in docstrings" is enabled.
                    </p>
                  </li>
  
                  <li>
                    <strong>Fuzzy matches.</strong> The following search matches all documents 
                    that have a word within 1 edit distance of “foo”: <code>foo~1</code>
                  </li>
              </ul>
  
            </p>
          </div>
  
          <div id="search-status"> </div>
  
          <div class="warning" id="search-warn-box" style="display: none;">
            <p class="rst-last"><span id="search-warn"></span></p>
          </div>
  
          <table id="search-results">
            <!-- Filled dynamically by JS -->
          </table>
          
          <div style="margin-top: 8px;">
            <p>Results provided by <a href="https://lunrjs.com">Lunr.js</a></p>
          </div>
        </div>

        <div class="page-header">
          <h1 class="class"><code><code><a href="index.html" class="internal-link">async_example_program</a></code><wbr></wbr>.<code><a href="async_example_program.tools.html" class="internal-link" title="async_example_program.tools">tools</a></code><wbr></wbr>.<code><a href="async_example_program.tools.async_file_searcher.html" class="internal-link" title="async_example_program.tools.async_file_searcher">async_file_searcher</a></code><wbr></wbr>.<code><a href="async_example_program.tools.async_file_searcher.AsyncFileSearcher.html" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher">AsyncFileSearcher</a></code></code></h1>
          <div id="showPrivate">
            <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
          </div>
        </div>

        <div class="categoryHeader">
          class documentation
        </div>

        <div class="extrasDocstring">
          <p class="class-signature"><code><span class="py-keyword">class</span> <span class="py-defname">AsyncFileSearcher</span>: <a href="https://github.com/ycc140/async_example_program/tree/fe248bcdf9c36ab6f9f0d9974dcb647ae594ce3c/tools/async_file_searcher.py#L32" class="sourceLink">(source)</a></code></p><p>Constructor: <code><a href="#__init__" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.__init__">AsyncFileSearcher(paths, out_queue, recursive, find_undetected_files, ...)</a></code></p>
          <p><a href="classIndex.html#async_example_program.tools.async_file_searcher.AsyncFileSearcher">View In Hierarchy</a></p>
        </div>

        <div class="moduleDocstring">
          <div><p>This class detects files in one, or several specified directories.</p>
<p>Directories that are to be excluded from the search can be specified.
A specific file pattern can be supplied, default is all files. File
patterns that should be ignored can be supplied. A recursive search
can also be activated.</p>
<p>The file is only reported when it's available (not when it's
initially detected since it might be in a copying or moving phase).</p>
<p>Due to antivirus programs are scanning new files as well, there's sometimes
a conflict of interest. The consequences when this happens are that when
the file is detected, it's not available, and therefore it will be ignored.
Another related issue is that files might already exist in the monitored
path(s) when the program starts, and they will not be detected either.
This problem is handled when you let the <em>find_undetected_files</em> input
parameter use its default value. When <code><a href="https://docs.python.org/3/library/constants.html#True" class="intersphinx-link">True</a></code> A check runs every two minutes
that touches files that weren't detected earlier.</p>
<dl class="rst-docutils">
<dt>The workflow is as follows:</dt>
<dd><ol class="rst-first rst-last rst-arabic simple">
<li>Start the file detection by calling method start().</li>
<li>Receive detection messages on supplied out_queue.</li>
<li>Stop the detection by calling method stop().</li>
</ol>
</dd>
</dl>
<p>Example data:</p>
<pre class="py-doctest">
{<span class="py-string">"msgType"</span>: <span class="py-string">"FileFound"</span>,
 <span class="py-string">"file"</span>: <span class="py-string">"D:\prod\kundin\cust3\DDDD.231008.txt"</span>}</pre></div>
        </div>

        <div id="splitTables">
          <table class="children sortable" id="id21">
  
  
  <tr class="method">
    
    <td>Method</td>
    <td><code><a href="#__init__" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.__init__">__init__</a></code></td>
    <td>The class constructor.</td>
  </tr><tr class="method">
    
    <td>Async Method</td>
    <td><code><a href="#notify" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.notify">notify</a></code></td>
    <td>Send msgType messages to the broker.</td>
  </tr><tr class="method">
    
    <td>Async Method</td>
    <td><code><a href="#start" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.start">start</a></code></td>
    <td>Start the used resources in a controlled way.</td>
  </tr><tr class="method">
    
    <td>Async Method</td>
    <td><code><a href="#stop" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.stop">stop</a></code></td>
    <td>Stop the used resources in a controlled way.</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#file_mgr" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.file_mgr">file<wbr></wbr>_mgr</a></code></td>
    <td>Put a JSON message on the report queue when a file is detected and available.</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#find_undetected_files" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.find_undetected_files">find<wbr></wbr>_undetected<wbr></wbr>_files</a></code></td>
    <td>Touch undetected files in search path(s) (default is True).</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#lock" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.lock">lock</a></code></td>
    <td>A locking mechanism that protects the suppressed cache object.</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#observer" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.observer">observer</a></code></td>
    <td>Observer thread that schedules watching directories and dispatches calls to event handlers.</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#out_queue" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.out_queue">out<wbr></wbr>_queue</a></code></td>
    <td>File detection report queue.</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#recursive" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.recursive">recursive</a></code></td>
    <td>Search path(s) recursively (default is False).</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#root_paths" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.root_paths">root<wbr></wbr>_paths</a></code></td>
    <td>List of path(s) to search.</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#suppress" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.suppress">suppress</a></code></td>
    <td>Suppress reporting of already detected files.</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#watchers" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.watchers">watchers</a></code></td>
    <td>Keep track of which paths(s) that is observed.</td>
  </tr><tr class="instancevariable">
    
    <td>Instance Variable</td>
    <td><code><a href="#work_queue" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.work_queue">work<wbr></wbr>_queue</a></code></td>
    <td>Internal message broker queue.</td>
  </tr><tr class="method private">
    
    <td>Async Method</td>
    <td><code><a href="#_handle_report_suppression" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher._handle_report_suppression">_handle<wbr></wbr>_report<wbr></wbr>_suppression</a></code></td>
    <td>Handle multiple detections of "small" files (only report once).</td>
  </tr><tr class="method private">
    
    <td>Async Method</td>
    <td><code><a href="#_handle_undetected_files" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher._handle_undetected_files">_handle<wbr></wbr>_undetected<wbr></wbr>_files</a></code></td>
    <td>Touch undetected files to make them detectable again.</td>
  </tr><tr class="method private">
    
    <td>Async Method</td>
    <td><code><a href="#_message_broker" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher._message_broker">_message<wbr></wbr>_broker</a></code></td>
    <td>Broker messages between interested parties using a queue.</td>
  </tr><tr class="method private">
    
    <td>Async Method</td>
    <td><code><a href="#_process_file_found" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher._process_file_found">_process<wbr></wbr>_file<wbr></wbr>_found</a></code></td>
    <td>Process received FileFound message.</td>
  </tr><tr class="method private">
    
    <td>Async Method</td>
    <td><code><a href="#_process_new_search_paths" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher._process_new_search_paths">_process<wbr></wbr>_new<wbr></wbr>_search<wbr></wbr>_paths</a></code></td>
    <td>Update the list of paths used in the search.</td>
  </tr><tr class="method private">
    
    <td>Async Method</td>
    <td><code><a href="#_process_status_request" class="internal-link" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher._process_status_request">_process<wbr></wbr>_status<wbr></wbr>_request</a></code></td>
    <td>Process health status request.</td>
  </tr>
</table>
          

            
        </div>

        <div id="childList">
          <div class="basemethod">
  
  
  <a name="async_example_program.tools.async_file_searcher.AsyncFileSearcher.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">__init__</span><span class="function-signature">(self, paths: <code><a href="https://docs.python.org/3/library/stdtypes.html#list" class="intersphinx-link">list</a></code>, out_queue: <code><a href="https://docs.python.org/3/library/asyncio-queue.html#asyncio.Queue" class="intersphinx-link">Queue</a></code>, recursive: <code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code> = <a href="https://docs.python.org/3/library/constants.html#False" class="intersphinx-link">False</a>, find_undetected_files: <code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code> = <a href="https://docs.python.org/3/library/constants.html#True" class="intersphinx-link">True</a>, case_sensitive: <code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code> = <a href="https://docs.python.org/3/library/constants.html#False" class="intersphinx-link">False</a>, excluded_paths: <code><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#list" class="intersphinx-link">list</a>]</code> = <a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, patterns: <code><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#list" class="intersphinx-link">list</a>]</code> = <a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>, ignored_patterns: <code><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#list" class="intersphinx-link">list</a>]</code> = <a href="https://docs.python.org/3/library/constants.html#None" class="intersphinx-link">None</a>)</span>:
    <a class="sourceLink" href="https://github.com/ycc140/async_example_program/tree/fe248bcdf9c36ab6f9f0d9974dcb647ae594ce3c/tools/async_file_searcher.py#L93">
      
      (source)
    </a>
    <a class="headerLink" href="#__init__" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.__init__">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>The class constructor.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">paths:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#list" class="intersphinx-link">list</a></code></td><td class="fieldArgDesc">List of path(s) to search.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">out<wbr></wbr>_queue:</span><code><a href="https://docs.python.org/3/library/asyncio-queue.html#asyncio.Queue" class="intersphinx-link">Queue</a></code></td><td class="fieldArgDesc">Search response queue.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">recursive:</span><code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code></td><td class="fieldArgDesc">Search path(s) recursively (default is False).</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">find<wbr></wbr>_undetected<wbr></wbr>_files:</span><code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code></td><td class="fieldArgDesc">Touch undetected files in search
path(s) (default is True).</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">case<wbr></wbr>_sensitive:</span><code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code></td><td class="fieldArgDesc">Use case-sensitive file matching (default is False).</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">excluded<wbr></wbr>_paths:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#list" class="intersphinx-link">list</a>]</code></td><td class="fieldArgDesc">List of path(s) to exclude in search.</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">patterns:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#list" class="intersphinx-link">list</a>]</code></td><td class="fieldArgDesc">A list of file search patterns to use
(implicitly ['*'] is used if None is specified).</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">ignored<wbr></wbr>_patterns:</span><code><a href="https://docs.python.org/3/library/typing.html#typing.Optional" class="intersphinx-link">Optional</a>[<wbr></wbr><a href="https://docs.python.org/3/library/stdtypes.html#list" class="intersphinx-link">list</a>]</code></td><td class="fieldArgDesc">A list of file search patterns to ignore.</td></tr><tr class="fieldStart"><td class="fieldName" colspan="2">Raises</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/exceptions.html#RuntimeError" class="intersphinx-link">RuntimeError</a></code></td><td>When an invalid path is specified.</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/exceptions.html#AssertionError" class="intersphinx-link">AssertionError</a></code></td><td>When path parameter is not a list.</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/exceptions.html#AssertionError" class="intersphinx-link">AssertionError</a></code></td><td>When pattern parameter is not None or not a list.</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/exceptions.html#AssertionError" class="intersphinx-link">AssertionError</a></code></td><td>When excluded_paths parameter is not None or not a list.</td></tr><tr><td class="fieldArgContainer"><code><a href="https://docs.python.org/3/library/exceptions.html#AssertionError" class="intersphinx-link">AssertionError</a></code></td><td>When ignored_patterns parameter is not None or not a list.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="async_example_program.tools.async_file_searcher.AsyncFileSearcher.notify">
    
  </a>
  <a name="notify">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">async def</span> <span class="py-defname">notify</span><span class="function-signature">(self, msg: <code><a href="https://docs.python.org/3/library/stdtypes.html#dict" class="intersphinx-link">dict</a></code>)</span>:
    <a class="sourceLink" href="https://github.com/ycc140/async_example_program/tree/fe248bcdf9c36ab6f9f0d9974dcb647ae594ce3c/tools/async_file_searcher.py#L293">
      
      (source)
    </a>
    <a class="headerLink" href="#notify" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.notify">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Send msgType messages to the broker.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">msg:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#dict" class="intersphinx-link">dict</a></code></td><td class="fieldArgDesc">A msgType message.</td></tr></table></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="async_example_program.tools.async_file_searcher.AsyncFileSearcher.start">
    
  </a>
  <a name="start">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">async def</span> <span class="py-defname">start</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/ycc140/async_example_program/tree/fe248bcdf9c36ab6f9f0d9974dcb647ae594ce3c/tools/async_file_searcher.py#L302">
      
      (source)
    </a>
    <a class="headerLink" href="#start" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.start">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Start the used resources in a controlled way.</p></div>
  </div>
</div><div class="basemethod">
  
  
  <a name="async_example_program.tools.async_file_searcher.AsyncFileSearcher.stop">
    
  </a>
  <a name="stop">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">async def</span> <span class="py-defname">stop</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/ycc140/async_example_program/tree/fe248bcdf9c36ab6f9f0d9974dcb647ae594ce3c/tools/async_file_searcher.py#L332">
      
      (source)
    </a>
    <a class="headerLink" href="#stop" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.stop">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Stop the used resources in a controlled way.</p></div>
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="async_example_program.tools.async_file_searcher.AsyncFileSearcher.file_mgr">
    
  </a>
  <a name="file_mgr">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">file_mgr</span>: <code><a href="async_example_program.tools.file_modified_event_handler.FileModifiedEventHandler.html" class="internal-link" title="async_example_program.tools.file_modified_event_handler.FileModifiedEventHandler">FileModifiedEventHandler</a></code> =
    <a class="sourceLink" href="https://github.com/ycc140/async_example_program/tree/fe248bcdf9c36ab6f9f0d9974dcb647ae594ce3c/tools/async_file_searcher.py#L85">
      
      (source)
    </a>
    <a class="headerLink" href="#file_mgr" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.file_mgr">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>Put a JSON message on the report queue when a file
is detected and available.</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="async_example_program.tools.async_file_searcher.AsyncFileSearcher.find_undetected_files">
    
  </a>
  <a name="find_undetected_files">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">find_undetected_files</span>: <code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code> =
    <a class="sourceLink" href="https://github.com/ycc140/async_example_program/tree/fe248bcdf9c36ab6f9f0d9974dcb647ae594ce3c/tools/async_file_searcher.py#L70">
      
      (source)
    </a>
    <a class="headerLink" href="#find_undetected_files" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.find_undetected_files">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>Touch undetected files in search path(s) (default is True).</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="async_example_program.tools.async_file_searcher.AsyncFileSearcher.lock">
    
  </a>
  <a name="lock">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">lock</span>: <code><a href="https://docs.python.org/3/library/asyncio-sync.html#asyncio.Lock" class="intersphinx-link">asyncio.Lock</a></code> =
    <a class="sourceLink" href="https://github.com/ycc140/async_example_program/tree/fe248bcdf9c36ab6f9f0d9974dcb647ae594ce3c/tools/async_file_searcher.py#L77">
      
      (source)
    </a>
    <a class="headerLink" href="#lock" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.lock">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>A locking mechanism that protects the suppressed cache object.</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="async_example_program.tools.async_file_searcher.AsyncFileSearcher.observer">
    
  </a>
  <a name="observer">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">observer</span>: <tt class="rst-docutils literal">watchdog.observers.Observer</tt> =
    <a class="sourceLink" href="https://github.com/ycc140/async_example_program/tree/fe248bcdf9c36ab6f9f0d9974dcb647ae594ce3c/tools/async_file_searcher.py#L81">
      
      (source)
    </a>
    <a class="headerLink" href="#observer" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.observer">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>Observer thread that schedules watching directories
and dispatches calls to event handlers.</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="async_example_program.tools.async_file_searcher.AsyncFileSearcher.out_queue">
    
  </a>
  <a name="out_queue">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">out_queue</span>: <code><a href="https://docs.python.org/3/library/asyncio-queue.html#asyncio.Queue" class="intersphinx-link">asyncio.Queue</a></code> =
    <a class="sourceLink" href="https://github.com/ycc140/async_example_program/tree/fe248bcdf9c36ab6f9f0d9974dcb647ae594ce3c/tools/async_file_searcher.py#L68">
      
      (source)
    </a>
    <a class="headerLink" href="#out_queue" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.out_queue">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>File detection report queue.</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="async_example_program.tools.async_file_searcher.AsyncFileSearcher.recursive">
    
  </a>
  <a name="recursive">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">recursive</span>: <code><a href="https://docs.python.org/3/library/functions.html#bool" class="intersphinx-link">bool</a></code> =
    <a class="sourceLink" href="https://github.com/ycc140/async_example_program/tree/fe248bcdf9c36ab6f9f0d9974dcb647ae594ce3c/tools/async_file_searcher.py#L64">
      
      (source)
    </a>
    <a class="headerLink" href="#recursive" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.recursive">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>Search path(s) recursively (default is False).</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="async_example_program.tools.async_file_searcher.AsyncFileSearcher.root_paths">
    
  </a>
  <a name="root_paths">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">root_paths</span>: <code><a href="https://docs.python.org/3/library/stdtypes.html#set" class="intersphinx-link">set</a></code> =
    <a class="sourceLink" href="https://github.com/ycc140/async_example_program/tree/fe248bcdf9c36ab6f9f0d9974dcb647ae594ce3c/tools/async_file_searcher.py#L66">
      
      (source)
    </a>
    <a class="headerLink" href="#root_paths" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.root_paths">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>List of path(s) to search.</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="async_example_program.tools.async_file_searcher.AsyncFileSearcher.suppress">
    
  </a>
  <a name="suppress">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">suppress</span>: <code><a href="https://docs.python.org/3/library/stdtypes.html#dict" class="intersphinx-link">dict</a></code> =
    <a class="sourceLink" href="https://github.com/ycc140/async_example_program/tree/fe248bcdf9c36ab6f9f0d9974dcb647ae594ce3c/tools/async_file_searcher.py#L75">
      
      (source)
    </a>
    <a class="headerLink" href="#suppress" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.suppress">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>Suppress reporting of already detected files.</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="async_example_program.tools.async_file_searcher.AsyncFileSearcher.watchers">
    
  </a>
  <a name="watchers">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">watchers</span>: <code><a href="https://docs.python.org/3/library/stdtypes.html#dict" class="intersphinx-link">dict</a></code> =
    <a class="sourceLink" href="https://github.com/ycc140/async_example_program/tree/fe248bcdf9c36ab6f9f0d9974dcb647ae594ce3c/tools/async_file_searcher.py#L73">
      
      (source)
    </a>
    <a class="headerLink" href="#watchers" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.watchers">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>Keep track of which paths(s) that is observed.</p></div>
    
  </div>
</div><div class="baseinstancevariable">
  
  
  <a name="async_example_program.tools.async_file_searcher.AsyncFileSearcher.work_queue">
    
  </a>
  <a name="work_queue">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">work_queue</span>: <code><a href="https://docs.python.org/3/library/asyncio-queue.html#asyncio.Queue" class="intersphinx-link">asyncio.Queue</a></code> =
    <a class="sourceLink" href="https://github.com/ycc140/async_example_program/tree/fe248bcdf9c36ab6f9f0d9974dcb647ae594ce3c/tools/async_file_searcher.py#L79">
      
      (source)
    </a>
    <a class="headerLink" href="#work_queue" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher.work_queue">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p>Internal message broker queue.</p></div>
    
  </div>
</div><div class="basemethod private">
  
  
  <a name="async_example_program.tools.async_file_searcher.AsyncFileSearcher._handle_report_suppression">
    
  </a>
  <a name="_handle_report_suppression">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">async def</span> <span class="py-defname">_handle_report_suppression</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/ycc140/async_example_program/tree/fe248bcdf9c36ab6f9f0d9974dcb647ae594ce3c/tools/async_file_searcher.py#L149">
      
      (source)
    </a>
    <a class="headerLink" href="#_handle_report_suppression" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher._handle_report_suppression">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Handle multiple detections of "small" files (only report once).</p>
<p>The duplicate detections only occur for "small" files, mostly within
a few milliseconds, so a 2-second prune timeout should be ok...</p>
<p>This method is run by the scheduler every 5 seconds.</p>
</div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="async_example_program.tools.async_file_searcher.AsyncFileSearcher._handle_undetected_files">
    
  </a>
  <a name="_handle_undetected_files">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">async def</span> <span class="py-defname">_handle_undetected_files</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/ycc140/async_example_program/tree/fe248bcdf9c36ab6f9f0d9974dcb647ae594ce3c/tools/async_file_searcher.py#L232">
      
      (source)
    </a>
    <a class="headerLink" href="#_handle_undetected_files" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher._handle_undetected_files">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Touch undetected files to make them detectable again.</p></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="async_example_program.tools.async_file_searcher.AsyncFileSearcher._message_broker">
    
  </a>
  <a name="_message_broker">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">async def</span> <span class="py-defname">_message_broker</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/ycc140/async_example_program/tree/fe248bcdf9c36ab6f9f0d9974dcb647ae594ce3c/tools/async_file_searcher.py#L257">
      
      (source)
    </a>
    <a class="headerLink" href="#_message_broker" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher._message_broker">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Broker messages between interested parties using a queue.</p>
<dl class="rst-docutils">
<dt>Handled message types are:</dt>
<dd><ul class="rst-first rst-last rst-simple">
<li>Stop</li>
<li>FileFound</li>
<li>StatusRequest</li>
<li>UpdateSearchPaths</li>
</ul>
</dd>
</dl>
</div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="async_example_program.tools.async_file_searcher.AsyncFileSearcher._process_file_found">
    
  </a>
  <a name="_process_file_found">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">async def</span> <span class="py-defname">_process_file_found</span><span class="function-signature">(self, msg: <code><a href="https://docs.python.org/3/library/stdtypes.html#dict" class="intersphinx-link">dict</a></code>)</span>:
    <a class="sourceLink" href="https://github.com/ycc140/async_example_program/tree/fe248bcdf9c36ab6f9f0d9974dcb647ae594ce3c/tools/async_file_searcher.py#L183">
      
      (source)
    </a>
    <a class="headerLink" href="#_process_file_found" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher._process_file_found">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Process received FileFound message.</p><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">msg:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#dict" class="intersphinx-link">dict</a></code></td><td class="fieldArgDesc">A FileFound msgType message.</td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="async_example_program.tools.async_file_searcher.AsyncFileSearcher._process_new_search_paths">
    
  </a>
  <a name="_process_new_search_paths">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">async def</span> <span class="py-defname">_process_new_search_paths</span><span class="function-signature">(self, msg: <code><a href="https://docs.python.org/3/library/stdtypes.html#dict" class="intersphinx-link">dict</a></code>)</span>:
    <a class="sourceLink" href="https://github.com/ycc140/async_example_program/tree/fe248bcdf9c36ab6f9f0d9974dcb647ae594ce3c/tools/async_file_searcher.py#L199">
      
      (source)
    </a>
    <a class="headerLink" href="#_process_new_search_paths" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher._process_new_search_paths">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Update the list of paths used in the search.</p>
<p>Example data:</p>
<pre class="py-doctest">
{<span class="py-string">'msgType'</span>: <span class="py-string">'UpdateSearchPaths'</span>, <span class="py-string">'data'</span>: [&lt;root Paths&gt;]}</pre><table class="fieldTable"><tr class="fieldStart"><td class="fieldName" colspan="2">Parameters</td></tr><tr><td class="fieldArgContainer"><span class="fieldArg">msg:</span><code><a href="https://docs.python.org/3/library/stdtypes.html#dict" class="intersphinx-link">dict</a></code></td><td class="fieldArgDesc">A UpdateSearchPaths message.</td></tr></table></div>
  </div>
</div><div class="basemethod private">
  
  
  <a name="async_example_program.tools.async_file_searcher.AsyncFileSearcher._process_status_request">
    
  </a>
  <a name="_process_status_request">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">async def</span> <span class="py-defname">_process_status_request</span><span class="function-signature">(self)</span>:
    <a class="sourceLink" href="https://github.com/ycc140/async_example_program/tree/fe248bcdf9c36ab6f9f0d9974dcb647ae594ce3c/tools/async_file_searcher.py#L247">
      
      (source)
    </a>
    <a class="headerLink" href="#_process_status_request" title="async_example_program.tools.async_file_searcher.AsyncFileSearcher._process_status_request">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Process health status request.</p></div>
  </div>
</div>
        </div>
      
      </div>
    </div>

    <footer class="navbar navbar-default">
    <hr />
    
    
    <div class="container">
      <a href="index.html">API Documentation</a> for <a href="https://github.com/ycc140/async_example_program" class="projecthome">async_example_program</a>,
    generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
      23.9.0 at 1970-01-01 00:00:00.
    </div>
    
    <script src="ajax.js" type="text/javascript"></script>
    <script src="searchlib.js" type="text/javascript"></script>
    <script src="search.js" type="text/javascript"></script>
  
  </footer>
  
    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>